--I realized that instead of doing math I could create a lookup table and do a binary search
--ACTUALLY nevermind, the numbers are not always the same

--1-161
scrAngleL = {
	0.5235987755983,
	0.52032628325081,
	0.51705379090332,
	0.51378129855583,
	0.51050880620834,
	0.50723631386085,
	0.50396382151336,
	0.50069132916587,
	0.49741883681838,
	0.49414634447089,
	0.49087385212341,
	0.48760135977592,
	0.48432886742843,
	0.48105637508094,
	0.47778388273345,
	0.47451139038596,
	0.47123889803847,
	0.46796640569098,
	0.46469391334349,
	0.461421420996,
	0.45814892864851,
	0.45487643630102,
	0.45160394395353,
	0.44833145160604,
	0.44505895925855,
	0.44178646691106,
	0.43851397456358,
	0.43524148221609,
	0.4319689898686,
	0.42869649752111,
	0.42542400517362,
	0.42215151282613,
	0.41887902047864,
	0.41560652813115,
	0.41233403578366,
	0.40906154343617,
	0.40578905108868,
	0.40251655874119,
	0.3992440663937,
	0.39597157404621,
	0.39269908169872,
	0.38942658935123,
	0.38615409700375,
	0.38288160465626,
	0.37960911230877,
	0.37633661996128,
	0.37306412761379,
	0.3697916352663,
	0.36651914291881,
	0.36324665057132,
	0.35997415822383,
	0.35670166587634,
	0.35342917352885,
	0.35015668118136,
	0.34688418883387,
	0.34361169648638,
	0.34033920413889,
	0.3370667117914,
	0.33379421944392,
	0.33052172709643,
	0.32724923474894,
	0.32397674240145,
	0.32070425005396,
	0.31743175770647,
	0.31415926535898,
	0.31088677301149,
	0.307614280664,
	0.30434178831651,
	0.30106929596902,
	0.29779680362153,
	0.29452431127404,
	0.29125181892655,
	0.28797932657906,
	0.28470683423157,
	0.28143434188409,
	0.2781618495366,
	0.27488935718911,
	0.27161686484162,
	0.26834437249413,
	0.26507188014664,
	0.26179938779915,
	0.25852689545166,
	0.25525440310417,
	0.25198191075668,
	0.24870941840919,
	0.2454369260617,
	0.24216443371421,
	0.23889194136672,
	0.23561944901923,
	0.23234695667175,
	0.22907446432426,
	0.22580197197677,
	0.22252947962928,
	0.21925698728179,
	0.2159844949343,
	0.21271200258681,
	0.20943951023932,
	0.20616701789183,
	0.20289452554434,
	0.19962203319685,
	0.19634954084936,
	0.19307704850187,
	0.18980455615438,
	0.18653206380689,
	0.1832595714594,
	0.17998707911192,
	0.17671458676443,
	0.17344209441694,
	0.17016960206945,
	0.16689710972196,
	0.16362461737447,
	0.16035212502698,
	0.15707963267949,
	0.153807140332,
	0.15053464798451,
	0.14726215563702,
	0.14398966328953,
	0.14071717094204,
	0.13744467859455,
	0.13417218624706,
	0.13089969389957,
	0.12762720155209,
	0.1243547092046,
	0.12108221685711,
	0.11780972450962,
	0.11453723216213,
	0.11126473981464,
  0.10799224746715,
	0.10471975511966,
	0.10144726277217,
	0.098174770424681,
	0.094902278077192,
	0.091629785729702,
	0.088357293382213,
	0.085084801034724,
	0.081812308687234,
	0.078539816339745,
	0.075267323992255,
	0.071994831644766,
	0.068722339297277,
	0.065449846949787,
	0.062177354602298,
	0.058904862254809,
	0.055632369907319,
	0.05235987755983,
	0.049087385212341,
	0.045814892864851,
	0.042542400517362,
	0.039269908169872,
	0.035997415822383,
	0.032724923474894,
	0.029452431127404,
	0.026179938779915,
	0.022907446432426,
	0.019634954084936,
	0.016362461737447,
	0.013089969389958,
	0.0098174770424682,
	0.0065449846949788,
	0.0032724923474894,
	0,
}
--162-320 (+161)
scrAngleR= {
	6.2799128148321,
	6.2766403224846,
	6.2733678301371,
	6.2700953377896,
	6.2668228454421,
	6.2635503530946,
	6.2602778607472,
	6.2570053683997,
	6.2537328760522,
	6.2504603837047,
	6.2471878913572,
	6.2439153990097,
	6.2406429066622,
	6.2373704143147,
	6.2340979219672,
	6.2308254296198,
	6.2275529372723,
	6.2242804449248,
	6.2210079525773,
	6.2177354602298,
	6.2144629678823,
	6.2111904755348,
	6.2079179831873,
	6.2046454908398,
	6.2013729984924,
	6.1981005061449,
	6.1948280137974,
	6.1915555214499,
	6.1882830291024,
	6.1850105367549,
	6.1817380444074,
	6.1784655520599,
	6.1751930597124,
	6.1719205673649,
	6.1686480750175,
	6.16537558267,
	6.1621030903225,
	6.158830597975,
	6.1555581056275,
	6.15228561328,
	6.1490131209325,
	6.145740628585,
	6.1424681362375,
	6.1391956438901,
	6.1359231515426,
	6.1326506591951,
	6.1293781668476,
	6.1261056745001,
	6.1228331821526,
	6.1195606898051,
	6.1162881974576,
	6.1130157051101,
	6.1097432127627,
	6.1064707204152,
	6.1031982280677,
	6.0999257357202,
	6.0966532433727,
	6.0933807510252,
	6.0901082586777,
	6.0868357663302,
	6.0835632739827,
	6.0802907816352,
	6.0770182892878,
	6.0737457969403,
	6.0704733045928,
	6.0672008122453,
	6.0639283198978,
	6.0606558275503,
	6.0573833352028,
	6.0541108428553,
	6.0508383505078,
	6.0475658581604,
	6.0442933658129,
	6.0410208734654,
	6.0377483811179,
	6.0344758887704,
	6.0312033964229,
	6.0279309040754,
	6.0246584117279,
	6.0213859193804,
	6.0181134270329,
	6.0148409346855,
	6.011568442338,
	6.0082959499905,
	6.005023457643,
	6.0017509652955,
	5.998478472948,
	5.9952059806005,
	5.991933488253,
	5.9886609959055,
	5.9853885035581,
	5.9821160112106,
	5.9788435188631,
	5.9755710265156,
	5.9722985341681,
	5.9690260418206,
	5.9657535494731,
	5.9624810571256,
	5.9592085647781,
	5.9559360724306,
	5.9526635800832,
	5.9493910877357,
	5.9461185953882,
	5.9428461030407,
	5.9395736106932,
	5.9363011183457,
	5.9330286259982,
	5.9297561336507,
	5.9264836413032,
	5.9232111489558,
	5.9199386566083,
	5.9166661642608,
	5.9133936719133,
	5.9101211795658,
	5.9068486872183,
	5.9035761948708,
	5.9003037025233,
	5.8970312101758,
	5.8937587178284,
	5.8904862254809,
	5.8872137331334,
	5.8839412407859,
	5.8806687484384,
	5.8773962560909,
	5.8741237637434,
	5.8708512713959,
	5.8675787790484,
	5.8643062867009,
	5.8610337943535,
	5.857761302006,
	5.8544888096585,
	5.851216317311,
	5.8479438249635,
	5.844671332616,
	5.8413988402685,
	5.838126347921,
	5.8348538555735,
	5.8315813632261,
	5.8283088708786,
	5.8250363785311,
	5.8217638861836,
	5.8184913938361,
	5.8152189014886,
	5.8119464091411,
	5.8086739167936,
	5.8054014244461,
	5.8021289320986,
	5.7988564397512,
	5.7955839474037,
	5.7923114550562,
	5.7890389627087,
	5.7857664703612,
	5.7824939780137,
	5.7792214856662,
	5.7759489933187,
	5.7726765009712,
	5.7694040086238,
	5.7661315162763,
	5.7628590239288,
}
function lookup(theta,isLeft)
  local t
  local offset = 0
  if isLeft then t = scrAngleL else t = scrAngleR; offset = 161 end
  local i,j,mid = 0,#t,0

  while i < j do
    mid = math.floor((i+j)/2)
    print(i,j,mid)

    if t[mid] == theta then return mid+offset end
    if t[i] == theta then return i+offset end
    if t[j] == theta then return j+offset end

    if theta < t[mid] then
      if mid > 1 and theta > t[mid-1] then
        if theta-t[mid] >= t[mid-1]-theta then return mid-1+offset else return mid+offset end
      end
      i = mid+1
    else
      if mid < #t and theta < t[mid+1] then
        if theta-t[mid+1] >= t[mid]-theta then return mid+offset else return mid+1+offset end
      end
      j = mid
    end
  end
  return mid+offset
end

print("lookup",lookup(0.0098174770424682,true))
